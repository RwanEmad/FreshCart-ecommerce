import './polyfills.server.mjs';
import{a as E}from"./chunk-OVL33CFQ.mjs";import"./chunk-GQ6V2TVB.mjs";import{a as S,b as n,c as b,d as v,f as y,g as x,h as C,i as O,k as _}from"./chunk-CB2QLT2S.mjs";import"./chunk-ZY3Z4VSQ.mjs";import{G as g}from"./chunk-RXAJKQTO.mjs";import{Gb as o,Ob as h,Qa as c,Y as s,aa as u,hb as p,pb as r,qb as t,rb as m,yb as f}from"./chunk-XCB6WECV.mjs";import"./chunk-VVCT4QZE.mjs";var M=(()=>{let i=class i{constructor(){this._FormBuilder=s(O),this._ActivatedRoute=s(g),this._OrdersService=s(E),this.cartId=null,this.orders=this._FormBuilder.group({details:[null,[n.required]],phone:[null,[n.required,n.pattern(/^01[0125][0-9]{8}$/)]],city:[null,[n.required]]})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.cartId=e.get("id"),console.log(e.get("id"))},error:e=>console.error("error:",e)})}orderSubmit(){this.getOrdersSub=this._OrdersService.checkOut(this.cartId,this.orders.value).subscribe({next(e){e.status=="success"&&(window.open(e.session.url,"_self"),console.log(e))},error(e){console.error("error:",e)}}),console.log(this.orders.value)}ngOnDestroy(){this.getOrdersSub?.unsubscribe()}check(){console.log("ITS OK")}};i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=u({type:i,selectors:[["app-orders"]],standalone:!0,features:[h],decls:18,vars:1,consts:[[1,"bg-main-light","rounded-4","shadow","p-2","my-2","w-75","mx-auto"],[1,"text-center0"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["type","tel","formControlName","details","id","details",1,"form-control"],["for","phone"],["type","text","formControlName","phone","id","phone",1,"form-control"],["for","city"],["type","text","formControlName","city","id","city",1,"form-control"],["type","submit",1,"btn-main"]],template:function(l,a){l&1&&(r(0,"section",0)(1,"h1",1),o(2,"Shipping Address"),t(),r(3,"form",2),f("ngSubmit",function(){return a.orderSubmit()}),r(4,"div",3)(5,"label",4),o(6,"Details:"),t(),m(7,"input",5),t(),r(8,"div",3)(9,"label",6),o(10,"Phone:"),t(),m(11,"input",7),t(),r(12,"div",3)(13,"label",8),o(14,"City:"),t(),m(15,"input",9),t(),r(16,"button",10),o(17,"Check Out"),t()()()),l&2&&(c(3),p("formGroup",a.orders))},dependencies:[_,y,S,b,v,x,C]});let d=i;return d})();export{M as OrdersComponent};
